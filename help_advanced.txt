â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Variables disponibles dans les prompts

{CONVERSATION_TEXT}  - Texte complet de la conversation
{TITLE}              - Titre de la conversation  
{MESSAGE_COUNT}      - Nombre de messages
{TOKEN_COUNT}        - Nombre de tokens
{FORMAT}             - Format source (CHATGPT/LECHAT/CLAUDE)
{FILE}               - Nom du fichier source

## Syntaxe SYSTEM/USER

Pour sÃ©parer le contexte systÃ¨me du prompt utilisateur:

```
---SYSTEM---
Tu es un expert en [DOMAINE] avec [EXPÃ‰RIENCE].
Tes compÃ©tences incluent: [LISTE]

---USER---
# ANALYSE DE [TYPE]

Conversation:
{CONVERSATION_TEXT}

Fournis: [INSTRUCTIONS]
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. FORMATS DE SORTIE DÃ‰TAILLÃ‰S
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## CSV (--format csv)
Colonnes: conversation_id, titre_original, titre, partie, response, success,
          error, token_count, fichier_source, format, model_used

Avantages: Compatible Excel/LibreOffice, facile Ã  filtrer et trier
Utilisation: Analyse de donnÃ©es, import dans bases de donnÃ©es

## JSON (--format json)
Structure hiÃ©rarchique avec tous les champs prÃ©servÃ©s
  
Avantages: Facile Ã  parser programmatiquement, typage prÃ©servÃ©
Utilisation: IntÃ©gration avec d'autres outils, pipelines automatisÃ©s

## TXT (--format txt)
Format texte simple avec sÃ©parateurs visuels

Avantages: Lecture directe, aucun outil nÃ©cessaire
Utilisation: Lecture rapide, archivage simple

## Markdown (--format markdown)
Format avec table des matiÃ¨res cliquable, mÃ©tadonnÃ©es, statistiques

Avantages: PrÃ©visualisation GitHub, export PDF/HTML facile, navigation aisÃ©e
Utilisation: Rapports professionnels, documentation, partage

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. ORGANISATION PROFESSIONNELLE DES FICHIERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Structure recommandÃ©e

```
projet_analyse_ia/
â”‚
â”œâ”€â”€ analyse_conversations_merged.py    # Script principal
â”œâ”€â”€ config.py                          # Configuration
â”œâ”€â”€ help.py                            # SystÃ¨me d'aide
â”œâ”€â”€ prompt_executor.py                 # ExÃ©cution prompts
â”œâ”€â”€ result_formatter.py                # Formatage rÃ©sultats
â”œâ”€â”€ extractors.py                      # Extraction messages
â”œâ”€â”€ utils.py                           # Utilitaires
â”œâ”€â”€ install.py                         # Installation
â”‚
â”œâ”€â”€ .venv_analyse/                     # Environnement virtuel (auto-crÃ©Ã©)
â”‚
â”œâ”€â”€ data/                              # VOS EXPORTS JSON
â”‚   â”œâ”€â”€ chatgpt/
â”‚   â”‚   â”œâ”€â”€ export_2025_01.json
â”‚   â”‚   â””â”€â”€ export_2025_02.json
â”‚   â”œâ”€â”€ claude/
â”‚   â”‚   â””â”€â”€ conversations_2025.json
â”‚   â””â”€â”€ lechat/
â”‚       â””â”€â”€ chat_mistral.json
â”‚
â”œâ”€â”€ prompts/                           # VOS PROMPTS PERSONNALISÃ‰S
â”‚   â”œâ”€â”€ prompt_resume.txt
â”‚   â”œâ”€â”€ prompt_security_analysis.txt
â”‚   â”œâ”€â”€ prompt_child_safety_analysis.txt
â”‚   â””â”€â”€ prompt_custom_analysis.txt
â”‚
â”œâ”€â”€ logs/                              # LOGS (auto-crÃ©Ã© avec --target-logs)
â”‚   â”œâ”€â”€ 2025-10-26/
â”‚   â”‚   â””â”€â”€ log.prompt_executor.v3.0.0.log
â”‚   â””â”€â”€ 2025-10-27/
â”‚
â”œâ”€â”€ results/                           # RÃ‰SULTATS (auto-crÃ©Ã© avec --target-results)
â”‚   â”œâ”€â”€ 2025-10-26/
â”‚   â”‚   â”œâ”€â”€ security_analysis_143052.md
â”‚   â”‚   â””â”€â”€ topics_extract_150234.csv
â”‚   â””â”€â”€ 2025-10-27/
â”‚
â”œâ”€â”€ help_advanced.txt                  # Cette aide (Ã©ditable)
â””â”€â”€ STRUCTURE.md                       # Documentation complÃ¨te
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. EXEMPLES AVANCÃ‰S ET CAS D'USAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Cas d'usage 1: Audit de sÃ©curitÃ© complet

```bash
# 1. PrÃ©paration
mkdir -p logs/security results/security
export MISTRAL_API_KEY='votre_clÃ©'

# 2. ExÃ©cution
python analyse_conversations_merged.py --exec \\
  --recursive --aiall \\
  --fichier ./data/ \\
  --prompt-file security_analysis \\
  --target-logs ./logs/security \\
  --target-results ./results/security \\
  --format markdown \\
  --workers 10 \\
  --delay 0.8

# 3. Post-traitement
cd results/security
ls -lh *.md
```

## Cas d'usage 2: Extraction de compÃ©tences pour CV

```bash
# CrÃ©er un prompt personnalisÃ©
cat > prompts/prompt_cv_skills.txt << 'EOF'
Tu es un expert RH spÃ©cialisÃ© en tech.

Identifie UNIQUEMENT les compÃ©tences techniques professionnelles 
dans cette conversation qui enrichiraient un CV ou LinkedIn.

Conversation:
{CONVERSATION_TEXT}

Format: liste Ã  puces, une compÃ©tence par ligne, catÃ©gorisÃ©e.
EOF

# ExÃ©cuter
python analyse_conversations_merged.py --exec \\
  --aiall --fichier data/**/*.json \\
  --prompt-file cv_skills \\
  --format txt \\
  --output mes_competences.txt \\
  --target-results ./cv
```

## Cas d'usage 3: Analyse de contenu pour modÃ©ration

```bash
python analyse_conversations_merged.py --exec \\
  --aiall --fichier conversations_forum/*.json \\
  --prompt-file child_safety_analysis \\
  --target-results ./moderation \\
  --format json \\
  --workers 5
```

## Cas d'usage 4: Pipeline automatisÃ© quotidien

```bash
#!/bin/bash
# script_analyse_quotidienne.sh

DATE=$(date +%Y-%m-%d)
LOGS_DIR="./logs/${DATE}"
RESULTS_DIR="./results/${DATE}"

export MISTRAL_API_KEY=$(cat .mistral_key)

python analyse_conversations_merged.py --exec \\
  --recursive --aiall \\
  --fichier /data/exports/ \\
  --prompt-file security_analysis \\
  --target-logs "${LOGS_DIR}" \\
  --target-results "${RESULTS_DIR}" \\
  --format markdown \\
  --workers 15

# Notification
echo "Analyse terminÃ©e: ${RESULTS_DIR}" | mail -s "Rapport IA" admin@example.com
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. TROUBLESHOOTING DÃ‰TAILLÃ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ProblÃ¨me: ImportError: No module named 'X'
**Cause**: DÃ©pendances manquantes
**Solutions**:
```bash
# 1. VÃ©rifier l'installation
python analyse_conversations_merged.py --prerequis

# 2. RÃ©installer
python analyse_conversations_merged.py --install

# 3. VÃ©rifier le venv
source .venv_analyse/bin/activate
pip list

# 4. Installation manuelle si nÃ©cessaire
pip install requests tqdm tiktoken
```

## ProblÃ¨me: "Prompt introuvable"
**Cause**: Fichier mal nommÃ© ou mal placÃ©
**Solutions**:
```bash
# 1. VÃ©rifier les prompts disponibles
python analyse_conversations_merged.py --prompt-list

# 2. VÃ©rifier le fichier
ls -la prompts/prompt_*.txt

# 3. CrÃ©er le prompt
echo "Votre prompt" > prompts/prompt_test.txt

# 4. Utiliser le nom sans prÃ©fixe
python ... --prompt-file test  # pas prompt_test.txt
```

## ProblÃ¨me: Erreur "Permission denied" sur --target-logs
**Cause**: Droits insuffisants
**Solutions**:
```bash
# 1. VÃ©rifier les permissions
ls -ld /chemin/vers/logs

# 2. CrÃ©er avec les bons droits
mkdir -p ~/mes_logs
chmod 755 ~/mes_logs

# 3. Utiliser un chemin relatif
--target-logs ./logs  # Dans le dossier courant
```

## ProblÃ¨me: Rate limit API (429)
**Cause**: Trop de requÃªtes simultanÃ©es
**Solutions**:
```bash
# RÃ©duire la charge
python ... \\
  --workers 3 \\      # Au lieu de 10
  --delay 1.5         # Au lieu de 0.5
```

## ProblÃ¨me: Out of memory
**Cause**: Trop de conversations en mÃ©moire
**Solutions**:
```bash
# Traiter par lots
python ... --only-split --fichier batch1/*.json
python ... --not-split --fichier batch1/*.json

# Ou rÃ©duire les workers
--workers 2
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. BONNES PRATIQUES PROFESSIONNELLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## SÃ©curitÃ©

1. **Ne jamais commiter les clÃ©s API**
   ```bash
   # .gitignore
   .mistral_key
   .env
   *.log
   results/
   logs/
   ```

2. **Utiliser des variables d'environnement**
   ```bash
   # .env
   MISTRAL_API_KEY=votre_clÃ©_ici
   
   # Charger avec
   export $(cat .env | xargs)
   ```

3. **Tester en simulation d'abord**
   ```bash
   # Toujours tester sans consommer de crÃ©dits
   python ... --simulate --prompt-file nouveau_prompt
   ```

## Performance

1. **Ajuster les workers selon votre machine**
   - CPU 4 cÅ“urs: --workers 3-5
   - CPU 8 cÅ“urs: --workers 10-15
   - CPU 16+ cÅ“urs: --workers 20-30

2. **Utiliser le filtrage pour les gros volumes**
   ```bash
   # Traiter les longues conversations sÃ©parÃ©ment
   python ... --only-split --workers 5
   python ... --not-split --workers 15
   ```

3. **Monitorer les logs en temps rÃ©el**
   ```bash
   tail -f logs/$(date +%Y%m%d)/log.prompt_executor.v3.0.0.log
   ```

## Organisation

1. **Nommer clairement vos prompts**
   ```
   âœ… prompt_security_audit_2025.txt
   âœ… prompt_extract_technical_skills.txt
   âŒ prompt_test.txt
   âŒ p1.txt
   ```

2. **Organiser par date**
   ```bash
   --target-results ./results/$(date +%Y-%m-%d)
   ```

3. **Archiver rÃ©guliÃ¨rement**
   ```bash
   tar -czf archive_$(date +%Y%m).tar.gz results/ logs/
   ```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
9. DÃ‰VELOPPEMENT DE PROMPTS PERSONNALISÃ‰S
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Template de base

```
---SYSTEM---
Tu es un expert en [VOTRE_DOMAINE].

Ton expertise inclut:
- [CompÃ©tence 1]
- [CompÃ©tence 2]
- [CompÃ©tence 3]

---USER---
# ANALYSE: [TYPE_ANALYSE]

## CONTEXTE
- Titre: {TITLE}
- Messages: {MESSAGE_COUNT}
- Tokens: {TOKEN_COUNT}

## OBJECTIF
[DÃ©crivez ce que vous voulez obtenir]

## INSTRUCTIONS
1. [Instruction 1]
2. [Instruction 2]
3. [Instruction 3]

## FORMAT DE SORTIE
[Format attendu prÃ©cis]

## CONVERSATION Ã€ ANALYSER
{CONVERSATION_TEXT}
```

## Conseils de rÃ©daction

1. **Soyez spÃ©cifique**: Plus votre prompt est prÃ©cis, meilleure sera la rÃ©ponse
2. **Utilisez des exemples**: Montrez le format de sortie souhaitÃ©
3. **Structurez clairement**: Sections, numÃ©rotation, titres
4. **Testez itÃ©rativement**: --simulate puis ajustez

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
10. RESSOURCES ET SUPPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Documentation
- STRUCTURE.md: Documentation technique complÃ¨te
- help_advanced.txt: Ce fichier (Ã©ditable)
- --changelog: Historique des versions

## Support
Auteur: Bruno DELNOZ
Email: bruno.delnoz@protonmail.com

## Liens utiles
- API Mistral: https://docs.mistral.ai
- Formats JSON: Voir extractors.py
- Prompts exemples: Dossier prompts/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DerniÃ¨re mise Ã  jour: 2025-10-26
Version du script: 3.0.0

Ce fichier est Ã©ditable. Personnalisez-le selon vos besoins.
Pour rÃ©gÃ©nÃ©rer la version par dÃ©faut: supprimez ce fichier et relancez --help-adv
â•—
â•‘                   AI CONVERSATION PROMPT EXECUTOR - AIDE AVANCÃ‰E              â•‘
â•‘                              Version 3.0.0                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Auteur  : Bruno DELNOZ
Email   : bruno.delnoz@protonmail.com
Date    : 2025-10-26

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ TABLE DES MATIÃˆRES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Introduction et philosophie
2. Arguments dÃ©taillÃ©s
3. Gestion des prompts
4. Variables disponibles dans les prompts
5. Formats de sortie
6. Organisation des fichiers
7. Exemples d'utilisation avancÃ©s
8. Cas d'usage professionnels
9. Troubleshooting
10. Bonnes pratiques

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. INTRODUCTION ET PHILOSOPHIE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ce systÃ¨me permet d'appliquer des prompts personnalisÃ©s sur vos conversations
AI exportÃ©es (ChatGPT, Claude, LeChat/Mistral). Au lieu d'une analyse fixe,
vous dÃ©finissez exactement ce que vous voulez extraire via des fichiers .txt.

NOUVEAUTÃ‰S v3.0 :
  âœ… SystÃ¨me de prompts personnalisables (prompt_*.txt)
  âœ… Support multi-formats (auto-dÃ©tection)
  âœ… Organisation des fichiers (--target-logs, --target-results)
  âœ… DÃ©tection et Ã©limination des doublons
  âœ… Formats de sortie multiples (CSV, JSON, TXT, Markdown)
  âœ… Gestion intelligente des conversations longues (split automatique)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•